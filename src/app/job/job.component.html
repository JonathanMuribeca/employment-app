<div class="card list-job">
  <div class="card-body">
    <table class="table">
      <thead>
        <tr>
          <th scope="col">ID</th>
          <th scope="col">Função</th>
          <th scope="col">Min. Salário</th>
          <th scope="col">Max. Salário</th>
          <th scope="col">Ações</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let job of jobs">
          <td>{{job.job_id}}</td>
          <td>{{job.job_title}}</td>
          <td>{{job.min_salary}}</td>
          <td>{{job.max_salary}}</td>
          <td>
            <button type="button" class="btn btn-warning btn-sm" (click)="editJob(job)">
              <mat-icon>edit</mat-icon>
            </button>
            <button type="button" class="btn btn-danger btn-sm ml-1" (click)="deleteJob(job)">
              <mat-icon>delete</mat-icon>
            </button>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
</div>

<div class="card add-job">
  <h5 class="card-header">Adicionar/Atualizar Emprego</h5>
  <div class="card-body">
    <form id="add-form" (ngSubmit)="f.form.valid && saveJob(f)" #f="ngForm" novalidate>
      <div class="form-group">
        <label for="job_title">Função</label>
        <input type="text" [(ngModel)]="job.job_title" id="job_title" name="job_title"
          #job_title="ngModel" required class="form-control"
          [ngClass]="{ 'is-invalid': f.submitted && job_title.invalid }"
          placeholder="Digite a Função">
        <div *ngIf="f.submitted && job_title.invalid" class="invalid-feedback">
          <div *ngIf="job_title.errors.required">A Função é obrigatória</div>
        </div>
      </div>
      <div class="form-group">
        <label for="min_salary">Min. Salário</label>
        <input type="number" [(ngModel)]="job.min_salary" id="min_salary" name="min_salary" #min_salary="ngModel"
          required class="form-control" [ngClass]="{ 'is-invalid': f.submitted && min_salary.invalid }"
          placeholder="Digite o Min. Salário">
        <div *ngIf="f.submitted && min_salary.invalid" class="invalid-feedback">
          <div *ngIf="min_salary.errors.required">O ID do Gerente é obrigatório</div>
        </div>
      </div>
      <div class="form-group">
        <label for="max_salary">Máx. Salário</label>
        <input type="number" [(ngModel)]="job.max_salary" id="max_salary" name="max_salary" #max_salary="ngModel" required
          class="form-control" [ngClass]="{ 'is-invalid': f.submitted && max_salary.invalid }" placeholder="Digite o Máx. Salário">
        <div *ngIf="f.submitted && max_salary.invalid" class="invalid-feedback">
          <div *ngIf="max_salary.errors.required">O ID do Gerente é obrigatório</div>
        </div>
      </div>
      <button type="submit" class="btn btn-primary btn-add-job">Salvar</button>
      <button type="reset" class="btn btn-secondary btn-add-job" (click)="cleanForm(f)">Cancelar</button>
    </form>
  </div>
</div>
